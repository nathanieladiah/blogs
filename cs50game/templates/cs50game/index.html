{% extends 'cs50game/layout.html' %}
{% load static %}

{% block header %}
	<header class="py-5 bg-light border-bottom mb-4" id="blog-heading">
		<div class="container">
			<div class="text-center my-5">
				<h1 class="fw-bolder text-light">CS50 Game Development</h1>
				<p class="lead mb-0 text-light">My experience doing the CS50 Game Development course.</p>
			</div>
		</div>
	</header>
{% endblock %}

{% block main %}
	<!-- Blog entries -->
	<div class="col-lg-8">
		<!-- Featured blog post -->
		<!-- <div class="card mb-4">
			<a href="#"><img class="card-img-top" src="" alt=""></a>
			<div class="card-body">
				<div class="small text-muted">January 1, 2021</div>
				<h2 class="card-title">Featured Post Title</h2>
				<p class="card-text">Lorem ipsum do </p>
				<a class="btn btn-primary" href="#">Read more</a>
			</div>
		</div> -->
		{% if featured_post %}
			<div class="card mb-4">
				<a href="{% url 'cs50game-post' featured_post.id %}"><img class="card-img-top" src="{{ featured_post.coverpic }}" alt=""></a>
				<div class="card-body">
					<div class="small text-muted">{{ featured_post.date }}</div>
					<h2 class="card-title">{{ featured_post.title }}</h2>
					<p class="card-text">{{ featured_post.blurb }}</p>
					<a class="btn btn-primary" href="{% url 'cs50game-post' featured_post.id %}">Read more</a>
				</div>
			</div>
		{% endif %}
		<!-- Nested row for non-featured blog posts -->
		<div class="row">
			<!-- <div class="col-lg-6">

				<div class="card mb-4">
					<a href="#"><img class="card-img-top" src="#" alt=""></a>
					<div class="card-body">
						<div class="small text-muted">January 1, 2021</div>
						<h2 class="card-title h4">Post Title</h2>
						<p class="card-text">Stuff</p>
						<a class="btn btn-primary" href="#">Read more</a>
					</div>
				</div>

				<div class="card mb-4">
					<a href="#"><img class="card-img-top" src="#" alt=""></a>
					<div class="card-body">
						<div class="small text-muted">January 1, 2021</div>
						<h2 class="card-title h4">Post Title</h2>
						<p class="card-text">Stuff</p>
						<a class="btn btn-primary" href="#">Read more</a>
					</div>
				</div>
			</div>
			<div class="col-lg-6">

				<div class="card mb-4">
					<a href="#"><img class="card-img-top" src="#" alt=""></a>
					<div class="card-body">
						<div class="small text-muted">January 1, 2021</div>
						<h2 class="card-title h4">Post Title</h2>
						<p class="card-text">Stuff</p>
						<a class="btn btn-primary" href="#">Read more</a>
					</div>
				</div>

				<div class="card mb-4">
					<a href="#"><img class="card-img-top" src="#" alt=""></a>
					<div class="card-body">
						<div class="small text-muted">January 1, 2021</div>
						<h2 class="card-title h4">Post Title</h2>
						<p class="card-text">Stuff</p>
						<a class="btn btn-primary" href="#">Read more</a>
					</div>
				</div>
			</div> -->
			{% for post in page_obj %}
				<div class="col-lg-6">
					<!-- Blog post -->
					<div class="card mb-4">
						<a href="{% url 'cs50game-post' post.id %}"><img class="card-img-top" src="{{ post.coverpic }}" alt=""></a>
						<div class="card-body">
							<div class="small text-muted">{{ post.date }}</div>
							<h2 class="card-title h4">{{ post.title }}</h2>
							<p class="card-text">{{ post.blurb }}</p>
							<a class="btn btn-primary" href="{% url 'cs50game-post' post.id %}">Read more</a>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
		<!-- Pagination -->
		<nav aria-label="Pagination">
			<hr class="my-0">
			<ul class="pagination justify-content-center my-4">
				{% if page_obj.has_previous %}
					<li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1" aria-disabled="false">Newer</a></li>
				{% else %}
					<li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Newer</a></li>
				{% endif %}
				<!-- <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li> -->
				<!-- <li class="page-item"><a class="page-link" href="#">2</a></li>
				<li class="page-item"><a class="page-link" href="#">3</a></li>
				<li class="page-item disabled"><a class="page-link" href="#">...</a></li>
				<li class="page-item"><a class="page-link" href="#">15</a></li> -->
				{% for num in page_obj.paginator.page_range %}
					{% if page_obj.number == num %}
						<li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
					{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
						<li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
					{% endif %}
				{% endfor %}

				{% if page_obj.has_next %}
					<li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Older</a></li>
				{% else %}
					<li class="page-item disabled"><a class="page-link" href="#">Older</a></li>
				{% endif %}
			</ul>
		</nav>
	</div>
			
{% endblock %}